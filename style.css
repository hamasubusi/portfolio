/* ===== Reset & Base ===== */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Noto Sans JP', sans-serif;
  background-color: #111;
  color: #fff;
  line-height: 1.6;
  overflow-x: hidden;
}

/* ===== Hero / WHO ===== */
.hero { position: relative; height: 100vh; overflow: hidden; }
.hero video { width: 100%; height: 100%; object-fit: cover; }
.hero .hero-hit { position: absolute; inset: 0; z-index: 10; display: block; cursor: pointer; }

.overlay {
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  color: #fff; text-align: center;
  opacity: 0; animation: fadeIn 2s ease forwards; animation-delay: .5s;
  text-shadow: 0 0 15px rgba(0,0,0,.7);
}
.overlay h1 { font-size: 3.5rem; margin-bottom: 1rem; }
.overlay p { font-size: 1.2rem; }
@keyframes fadeIn { to { opacity: 1; } }

@media (max-width: 768px) {
  .hero {
    height: 100vh;
    overflow: hidden;
  }
  .hero video {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    height: 100vh;           /* 高さを端末の縦いっぱいに */
    width: auto;             /* 横ははみ出しOK */
    min-width: 100%;         /* 横が足りない端末でもカバー */
    object-fit: cover;       /* 端をトリミングしてフルブリード */
  }
  .overlay h1 { font-size: 2rem; }
  .overlay p { font-size: 1rem; }
}

/* ===== Hero CTA (visual cue to click) ===== */
.hero-cta{
  position:absolute;
  left:50%;
  bottom:7vh;
  transform:translateX(-50%);
  display:flex;
  align-items:center;
  gap:.75rem;
  z-index:9;                /* below .hero-hit (10), above .overlay (0) */
  pointer-events:none;      /* let clicks pass to .hero-hit */
  opacity:0;
  animation: heroCtaFade .9s ease .8s forwards;
}

.hero-cta__ring{
  width:56px;
  height:56px;
  border-radius:50%;
  box-shadow:
    0 0 0 2px rgba(255,255,255,.65),
    0 0 20px rgba(255,255,255,.35);
  filter: drop-shadow(0 0 12px rgba(255,255,255,.28));
  animation: heroCtaPulse 1.8s ease-in-out 1.2s infinite,
             heroCtaFloat 3.6s ease-in-out .8s infinite;
  flex:0 0 auto;
}

.hero-cta__label{
  font-weight:800;
  letter-spacing:.18em;
  font-size: clamp(.75rem, 1.6vw, 1rem);
  color:#fff;
  text-shadow: 0 2px 12px rgba(0,0,0,.45);
  opacity:.95;
}

.hero-cta__arrow{
  font-weight:800;
  font-size: clamp(1rem, 2.2vw, 1.4rem);
  opacity:.9;
  animation: heroCtaNudge 1.1s ease-in-out 1.2s infinite;
}

/* Keyframes */
@keyframes heroCtaFade{
  from{ transform: translateX(-50%) translateY(6px); opacity:0; }
  to  { transform: translateX(-50%) translateY(0); opacity:1; }
}

@keyframes heroCtaPulse{
  0%  { box-shadow: 0 0 0 2px rgba(255,255,255,.65), 0 0 18px rgba(255,255,255,.28); }
  50% { box-shadow: 0 0 0 6px rgba(255,255,255,.28), 0 0 28px rgba(255,255,255,.55); }
  100%{ box-shadow: 0 0 0 2px rgba(255,255,255,.65), 0 0 18px rgba(255,255,255,.28); }
}

@keyframes heroCtaFloat{
  0%,100%{ transform: translateX(-50%) translateY(0); }
  50%    { transform: translateX(-50%) translateY(-6px); }
}

@keyframes heroCtaNudge{
  0%,100%{ transform: translateX(0); }
  50%    { transform: translateX(4px); }
}

/* Accessibility: reduce motion */
@media (prefers-reduced-motion: reduce){
  .hero-cta{ animation: none; opacity: 1; }
  .hero-cta__ring{ animation: none; }
  .hero-cta__arrow{ animation: none; }
}

/* Mobile tuning */
@media (max-width: 600px){
  .hero-cta{ bottom: 4.5vh; gap: .6rem; }
  .hero-cta__ring{ width:44px; height:44px; }
  .hero-cta__label{ letter-spacing:.14em; }
}

/* ===== Movie Grid ===== */
section.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 40px; padding: 80px 5vw;
}
.grid-item { position: relative; overflow: hidden; transform: translateY(50px); opacity: 0; transition: all 1s ease; }
.grid-item.show { transform: translateY(0); opacity: 1; }
.grid-item img, .grid-item iframe { width: 100%; height: auto; display: block; border: none; }
.caption { padding: 10px 0 4px; font-weight: bold; text-align: center; }
.grid-item .detail { color: #ccc; font-size: .9rem; margin-top: 4px; text-align: left; line-height: 1.6; }
.grid-item a img { transition: transform .3s ease; cursor: pointer; border-radius: 6px; }
.grid-item a:hover img { transform: scale(1.02); }

.section-title {
  text-align: center; font-size: 2rem; font-weight: bold;
  color: #fff; margin-top: 40px; margin-bottom: 20px; letter-spacing: .05em; padding: 10px 0;
}

/* ===== DESIGN split ===== */
.design-split {
  display: flex; justify-content: center; align-items: flex-start;
  gap: 80px; flex-wrap: wrap; background: #111; padding: 80px 5vw;
}
.design-half {
  display: flex; flex-direction: column; justify-content: flex-start; align-items: center; text-align: center;
  flex: 1 1 45%; max-width: 900px;
}
.design-half {
  padding-top: 0 !important;
  align-items: flex-start !important;
}
.menu-side, .dripbag-side { display: flex; flex-direction: column; align-items: center; justify-content: flex-start; margin-top: 0; }
.design-half img, .dripbag-gallery { margin-bottom: 20px; }
.design-half img {
  width: 100%; max-width: 700px; border-radius: 10px; box-shadow: 0 0 30px rgba(0,0,0,.4);
  transition: transform .3s ease; height: auto; display: block;
  align-self: flex-start; /* 上端を揃える */
  margin-top: 0;          /* 不要な余白を削除 */
}
.design-half img:hover { transform: scale(1.02); }

/* --- Force the first media in each column to hug the top --- */
.design-half > :first-child{
  margin-top: 0 !important;
}
.design-half > img,
.design-half > .sample-container,
.design-half > .coldbrew-container,
.design-half > .dripbag-gallery{
  align-self: flex-start !important;
  margin-top: 0 !important;
}

.design-subtitle {
  font-size: 1.2rem; font-weight: 700; letter-spacing: .05em; color: #fff;
  margin-top: 18px; margin-bottom: 6px; text-transform: uppercase; text-align: center; width: 100%; max-width: 700px;
}
.design-subcaption {
  font-size: 1rem; font-weight: 400; color: #bbb; margin-bottom: 16px; text-align: left; letter-spacing: .03em; width: 100%; max-width: 700px;
}
.design-half p {
  color: #ccc; font-size: .95rem; line-height: 1.8; max-width: 700px; margin: 15px auto 0; text-align: left; width: 100%;
}
.design-half .caption { font-weight: bold; font-size: 1.1rem; margin-top: 14px; color: #fff; }
.dripbag-info p {
  color: #ccc; text-align: left; font-size: .95rem; line-height: 1.8; max-width: 700px; margin: 15px auto 0;
}
.menu-side p {
  color: #ccc; text-align: center; font-size: .95rem; line-height: 1.8; max-width: 700px; margin: 15px auto 0; width: 100%;
  padding-left: 60px; padding-right: 40px;
}

@media (max-width: 900px) {
  .design-split { flex-direction: column; }
  .design-half { max-width: 100vw; padding: 40px 0; }
  .menu-side, .dripbag-side { max-width: 100vw; }
}
.design-subtitle, .design-subcaption, .design-half p { text-align: center; width: 100%; max-width: 700px; }

/* ===== Dripbag Gallery ===== */
.dripbag-gallery { text-align: center; position: relative; padding: 20px 0; }
.dripbag-container { position: relative; display: inline-block; max-width: 800px; width: 90%; border-radius: 10px; }
.dripbag-container img {
  width: 100%; opacity: 0; position: absolute; top: 0; left: 0; border-radius: 10px; transition: opacity 1s ease;
  box-shadow: 0 6px 20px rgba(0,0,0,.15);
}
.dripbag-container img.active { position: relative; opacity: 1; }

/* ---- generic gallery containers (sample / coldbrew) ---- */
.sample-container,
.coldbrew-container,
.booth-container {
  position: relative;
  display: block;            /* 単独ブロックで幅いっぱい */
  width: 100%;
  max-width: 700px;          /* 左の単色サンプル画像と同じ見かけ幅に合わせる */
  aspect-ratio: 3 / 2;       /* 高さを確保 */
  border-radius: 10px;
  z-index: 0;     /* 画像(絶対配置)と矢印の基準に */
}

@media (max-width: 900px) {
  .design-half { max-width: 100vw; }
  .sample-container,
  .coldbrew-container,
  .booth-container { max-width: 96vw; width: 96vw; }
}

.sample-container img,
.coldbrew-container img,
.booth-container img {
  width: 100%;
  opacity: 0;
  position: absolute;
  top: 0;
  left: 0;
  border-radius: 10px;
  transition: opacity 1s ease;
  box-shadow: 0 6px 20px rgba(0,0,0,.15);
  object-fit: contain;
  height: 100%;              /* aspect-ratioで確保した高さに合わせる */
}


@media (max-width: 900px){
  .sample-container { aspect-ratio: 16 / 9; }
}

.sample-container img.active,
.coldbrew-container img.active,
.booth-container img.active {
  position: relative;
  opacity: 1;
}

/* 汎用矢印（.gallery-arrow-left / .gallery-arrow-right） */

@media (max-width: 600px) {
  .dripbag-container { max-width: 90vw; }
  .floating-name { gap: 4vw; padding: .6em 4.5vw; letter-spacing: .12em; }
  .floating-name span { font-size: clamp(1rem, 5vw, 2.6rem); }
}

/* ===== Lightbox ===== */
.lightbox { display: none; position: fixed; z-index: 9999; padding-top: 60px; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,.9); }
.lightbox-content {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
  max-width: 90%; max-height: 80vh; display: block; border-radius: 8px; box-shadow: 0 0 40px rgba(255,255,255,.1);
}
.lightbox .close { position: absolute; top: 30px; right: 50px; color: #fff; font-size: 2rem; font-weight: bold; cursor: pointer; transition: .3s; }
.lightbox .close:hover { color: #ffcc00; }
.lightbox-prev, .lightbox-next {
  position: absolute; top: 50%; transform: translateY(-50%); z-index: 10000; color: #fff; font-size: 3rem; font-weight: bold; cursor: pointer; padding: 10px 20px; user-select: none; opacity: .7; transition: opacity .3s, transform .3s;
}
.lightbox-prev { left: 5%; }
.lightbox-next { right: 5%; }
.lightbox-prev:hover, .lightbox-next:hover { opacity: 1; transform: translateY(-50%) scale(1.1); }

/* ===== Playlist ===== */
.playlist-section { text-align: center; width: 100%; max-width: 1200px; margin: 0 auto 80px; padding: 32px 5vw 12px; }
.playlist-section h2 { text-align: center; font-size: 2rem; font-weight: 700; margin: 0 0 24px; letter-spacing: .05em; }

.playlist-container {
  display: flex; flex-wrap: wrap; gap: 30px 22px; justify-content: center; align-items: stretch; margin: 0 auto;
}
.pl-card {
  background: #181818; border: 1px solid #2a2a2a; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,.14);
  padding: 20px 18px 16px; width: 320px; max-width: 95vw; display: flex; flex-direction: column; align-items: center; transition: transform .2s, border-color .2s; text-align: center; position: relative;
}
.pl-card:hover { transform: translateY(-3px) scale(1.015); border-color: #3a3a3a; }
.pl-body { width: 100%; min-width: 0; margin-bottom: 10px; }
.pl-title { font-weight: 700; font-size: 1.07rem; line-height: 1.35; letter-spacing: .01em; margin-bottom: 6px; }
.pl-embed { margin: 0 auto 10px; width: 100%; max-width: 320px; display: flex; justify-content: center; }
.pl-actions { display: flex; gap: 10px; justify-content: center; width: 100%; margin-top: 6px; flex-wrap: wrap; }
.pl-btn {
  display: inline-flex; align-items: center; gap: 6px; padding: 8px 14px; border-radius: 8px; font-weight: 700; font-size: .95rem; border: 1px solid #3a3a3a; background: #111; color: #fff; text-decoration: none; transition: background .2s, border-color .2s, opacity .2s; white-space: nowrap; opacity: 1;
}
.pl-btn:hover { background: #1b1b1b; border-color: #555; }
.pl-badge { font-size: .74rem; opacity: .8; background: #222; border-radius: 6px; padding: 2px 8px; margin-left: 4px; font-weight: 600; letter-spacing: .01em; }
.pl-btn[href="#"] { opacity: .35; pointer-events: none; cursor: default; }

@media (max-width: 900px) {
  .playlist-container { gap: 18px 0; }
  .pl-card { width: 98vw; max-width: 420px; margin: 0 auto; }
}
@media (max-width: 600px) {
  .playlist-section { padding: 24px 0 8px; }
  .playlist-container { flex-direction: column; gap: 20px 0; align-items: center; }
  .pl-card { padding: 14px 4vw 10px; width: 98vw; max-width: 98vw; }
  .pl-embed { max-width: 96vw; }
}

/* it()te tabs */
.itte-tabs { display: flex; justify-content: center; gap: 14px; margin-top: 16px; margin-bottom: 10px; }
.itte-tabs button {
  background: #222; color: #fff; border: 1px solid #333; border-radius: 6px; padding: 6px 12px; cursor: pointer; font-weight: 600; transition: background .2s, color .2s;
}
.itte-tabs button.active { background: #fff; color: #000; }
.itte-tabs button:hover { background: #444; }
.itte-frame { display: none; }
.itte-frame.active { display: block; animation: fadeIn .5s ease; }

.playlist-subtitle { text-align: center; font-size: 1.3rem; color: #eee; letter-spacing: .12em; margin-top: -6px; margin-bottom: 26px; font-weight: 700; text-shadow: 0 0 8px rgba(255,255,255,.15); }
.playlist-subtitle.event-bgm { margin-top: 80px; color: #fff; text-shadow: 0 0 10px rgba(255,255,255,.25); }

.playlist-description {
  max-width: 700px; margin: 0 auto; text-align: left; font-size: 1rem; color: #ccc; line-height: 1.8; padding: 0;
}

@media (max-width: 768px) {
  .menu-side p, .dripbag-side p, .playlist-description, .grid-item .detail {
    text-align: center; margin-left: auto; margin-right: auto; padding-left: 0; padding-right: 0;
  }
}

/* ===== About ===== */
section.about {
  padding: 60px 20px;
  background: #222;
  text-align: center; /* 見出し・本文は中央 */
}
section.about h1,
section.about h2,
section.about h3 { text-align: center; }
section.about p {
  max-width: 720px;
  margin: 0 auto 10px;
  line-height: 1.8;
  color: #ccc;
  text-align: center; /* 左寄せが残らないよう強制 */
}
section.about ul {
  list-style: none;
  padding: 0;
  margin: 16px auto;
  max-width: 720px;
  text-align: left; /* 箇条書きは左揃え */
}

section.about li { margin-bottom: 8px; }

/* ===== Contact ===== */
.contact{
  background:#222;
  text-align:center;
  padding:60px 20px clamp(120px,12vh,180px); /* 下に広めの余白で浮遊文字を避ける */
}
.contact h2{
  font-size:2rem;
  font-weight:700;
  letter-spacing:.05em;
  margin-bottom:18px;
}

/* カスタムボタン（OS標準見た目を殺す） */
.contact-btn{
  appearance:none;
  -webkit-appearance:none;
  border:1px solid #3a3a3a;
  background:#fff;
  color:#111;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.4em;
  padding:12px 32px;
  border-radius:30px;
  font-size:1rem;
  font-weight:700;
  letter-spacing:.06em;
  cursor:pointer;
  transition:transform .2s, background .2s, color .2s, border-color .2s, box-shadow .2s;
  text-decoration:none;
}
.contact-btn:hover{
  background:#ff6b6b;
  border-color:#ff6b6b;
  color:#fff;
  transform:translateY(-2px);
}
.contact-btn:focus{
  outline:none;
  box-shadow:0 0 0 3px rgba(255,255,255,.16);
}

/* iPhone等のセーフエリアも考慮 */
@supports(padding: max(0px)){
  .contact{
    padding-bottom:max(120px, env(safe-area-inset-bottom) + 80px);
  }
}

/* ===== Floating Name ===== */
.floating-name {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  gap: var(--fn-gap, 1.4em);               /* 調整用: 文字間隔（既定 1.4em） */
  z-index: 9999;
  pointer-events: none;
  user-select: none;
  background: transparent !important;
  width: max-content;
  max-width: 96vw;
  padding: .6em 0;          /* 上下だけの余白に戻す */
  text-align: center;
  font-weight: 700;
  letter-spacing: .1em;    /* 字間を更新 */
  /* --fn-gray-offset: 0em; 削除 */
}


.floating-name span {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: flex-end;
  color: #fff;
  border-radius: 6px 6px 0 0;
  padding: .2em .3em;
  font-weight: 700;
  font-size: clamp(1.2rem, 4vw, 3rem); /* 拡大サイズ */
  transform-origin: center bottom;
  will-change: transform, opacity;
  animation: fn-jitter 1.8s steps(1,end) infinite;
  animation-delay: var(--delay, 0ms);
}

.floating-name span:nth-child(1){ --delay: 0ms; }
.floating-name span:nth-child(2){ --delay: 140ms; }
.floating-name span:nth-child(3){ --delay: 280ms; }
.floating-name span:nth-child(4){ --delay: 420ms; }

.floating-name .small { font-size: 4vw; padding: 8px 10px; background: #222; border-radius: 10px; }

.floating-name span .gray{
  /* per-letter gray is disabled to avoid overlap under the next character */
  display: none !important;
}
/* Gray layer as one piece, shifted one character to the right */

@keyframes fn-jitter{
  0%   { transform: scale(1) translateZ(0); opacity: 1; }
  25%  { transform: scale(0.92, 1.06) translateZ(0); }
  50%  { transform: scale(1.08, 0.94) translateZ(0); opacity: .9; }
  75%  { transform: scale(0.98, 1.03) translateZ(0); }
  100% { transform: scale(1) translateZ(0); opacity: 1; }
}
/* Ensure white letters are above the gray layer */
.floating-name span{ position: relative; z-index: 1; }

@media (max-width: 600px) {
  .floating-name {
    gap: var(--fn-gap-mobile, 3.5vw); /* モバイルでの文字間隔（上書き可） */
    padding: .55em 0;
    letter-spacing: .16em;
  }
  .floating-name span { font-size: clamp(1.15rem, 6vw, 2.6rem); }
}
/* ===== Footer ===== */
footer { text-align: center; padding: 40px 0; background: #000; color: #666; }

/* === Manual slider base (dripbag / coldbrew / booth / sample) === */
.gallery-container,
.dripbag-container {
  position: relative;
  overflow: hidden; /* keep arrows inside */
  z-index: 0;
}

.gallery-container img,
.dripbag-container img {
  display: none;
  width: 100%;
  height: auto;
}
.gallery-container img.active,
.dripbag-container img.active {
  display: block;
}

/* Booth specific container adopts the generic gallery base */
.booth-container { overflow: hidden; }

/* --- Unified arrow placement (desktop & mobile) --- */
.gallery-container,
.dripbag-container { position: relative; }

.gallery-arrow,
.dripbag-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  line-height: 1;
  color: #fff;
  background: rgba(0,0,0,0.45);
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  z-index: 20;           /* 画像より前面に */
  pointer-events: auto;  /* タップを確実に受ける */
}

.gallery-arrow-left,
.dripbag-arrow-left { left: 10px; }
.gallery-arrow-right,
.dripbag-arrow-right { right: 10px; }

.gallery-arrow:hover,
.dripbag-arrow:hover { background: rgba(0,0,0,0.65); }

@media (max-width: 768px){
  .gallery-arrow,
  .dripbag-arrow { width: 40px; height: 40px; font-size: 22px; }
}

.gallery-arrow:focus-visible,
.dripbag-arrow:focus-visible { outline: 2px solid #fff; outline-offset: 2px; }

/* Keep floating-name non-interactive */
.floating-name { pointer-events: none; }